{{>header}}

<div class="hero">
  <div class="hero-overlay">

    <div class="container">



      <div class="row">
        <div class="col-md-10">




        <!-- Card -->
        <div class="card col-md-10">
          <h1 class="well bg-light">Fill Up Your Details</h1>
            <!-- Card body -->
            <div class="card-body">

                <!-- Material form register -->
                <form action="/tourist/customer_reg" method="post">


                    <!-- Material input text -->
                    <div class="row">
                      <div class="col-md-9">
                        <label class="cabinet center-block">
                          <figure>
                            <img src="" class="gambar img-responsive img-thumbnail" id="item-img-output" />
                            <figcaption><i class="fa fa-camera"></i></figcaption>
                          </figure>
                          <input type="file" id="pro_pic" class="item-img file center-block" name="file_photo"/>
                        </label>
                      </div>
                      <div class="col-md-3">

                      </div>

                    </div>
                    <!-- Material input email -->
                    <div class="md-form">
                        <i class="fa fa-users prefix grey-text"></i>
                        <input type="text" id="materialFormRegisterNameEx" value="{{username}}" readonly class="form-control" name="username">
                        <label for="materialFormCardEmailEx" class="font-weight-light">Username</label>
                    </div>
                    <br>
                    <div class="row">
                      <div class="col-md-6 md-form">
                        <i class="fa fa-user prefix grey-text"></i>
                        <input type="text" id="fname" name="fname" class="form-control"  placeholder="Enter Your Firstname">
                        <label for="materialFormCardfname" class="font-weight-light">First Name</label>
                      </div>
                      <div class="col-md-6 md-form">
                        <i class="fa fa-user prefix grey-text"></i>
                        <input type="text" id="lname" name="lname" class="form-control"  placeholder="Enter Your Lastname">
                        <label for="materialFormCardlname" class="font-weight-light">Last Name</label>
                      </div>

                    </div>

                    <!-- Material input email -->
                    <div class="md-form">
                        <i class="fa fa-envelope prefix grey-text"></i>
                        <input type="email" id="email" name="email" class="form-control text-dark" readonly value="{{email}}">
                        <label for="materialFormCardEmailEx" class="font-weight-light">Your email</label>
                    </div>

                    <!-- Material input email -->
                    <div class="md-form">
                        <i class="fa fa-phone prefix grey-text"></i>
                        <input type="text" id="pno" name="pno" class="form-control">
                        <label for="materialFormCardConfirmEx" class="font-weight-light">Pnone Number</label>
                    </div>
                    <br>
                    <br>
                    <br>
                    <div class="row">
                      <div class="form-group col-md-4">
                        <i class="fa fa-globe prefix grey-text"></i>
                       <label for="inputState">State</label>
                       <select id="country" name="country" class="form-control">
                         <option selected>Choose...</option>

                       </select>
                     </div>
                     <div class="form-group col-md-4">
                       <i class="fa fa-flag prefix grey-text"></i>
                      <label for="inputState">State</label>
                      <select id="state" name="state" class="form-control">
                        <option selected>Choose...</option>

                      </select>
                    </div>
                      <div class="col-md-4 md-form">
                        <i class="fa fa-globe prefix grey-text"></i>
                        <label for="materialFormCardConfirmEx" class="font-weight-light">Your Zip Code</label>
                        <input type="text" id="zip" name="zip" class="form-control" placeholder="Enter your Zip code">

                      </div>
                    </div>

                    <!-- Material input password -->
                    <div class="text-center py-7 mt-3">
                        <input class="btn btn-cyan" type="submit" value="Register">
                    </div>
                </form>
                <!-- Material form register -->

            </div>
            <!-- Card body -->

        </div>
        <!-- Card -->
      </div>
      <div class="col-md-2">

      </div>
      </div>
    	</div>
  </div>
</div>



        <!-- Button trigger modal -->

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Update profile photo</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form">
                  <img src="/images/07.jpg" id="img_file" alt="">
                  <!-- <div class="uploadBtn"><input type="file" name="img_file" id="img_file">Upload Files</div> -->
                </div>
                <div class="">
                  <canvas id="canvas" width="400" height="400" style="border:1px solid silver; border-radius:10px;">

                  </canvas>
                </div>
                <div id="result">

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>







<div class="container-fluid">
  {{> footer}}

</div>

<!--Start of modal-->
<div class="modal fade" id="cropImagePop" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

  </div>
  <div class="modal-body">
        <div id="upload-demo" class="center-block">
          <img src="" alt="" id="blankImg1">
        </div>
  </div>
   <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" id="cropImageBtn" class="btn btn-primary">Crop</button>
      </div>
    </div>
  </div>
</div>
<!--End of modal-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gijgo@1.9.6/js/gijgo.min.js" type="text/javascript"></script>
<script src="https://foliotek.github.io/Croppie/croppie.js"></script>

<script type="text/javascript">
// Start upload preview image
$(".gambar").attr("src", "https://user.gadjian.com/static/images/personnel_boy.png");
						var $uploadCrop,
						tempFilename,
						rawImg,
						imageId;

						// $(function(){
						// 	$("#pro_pic").change(function() {
						// 		//console.log(this.files);
						// 		var reader = new FileReader();
						// 		reader.onload = function(image){
						// 			$("#upload-demo").show(0);
						// 			$("#blankImg1").attr('src',image.target.result);
						// 		}
						// 		reader.readAsDataURL(this.files[0]);
						// 	})
						// });


						function readFile(input) {
				 			if (input.files && input.files[0]) {
				              var reader = new FileReader();
					            reader.onload = function (e) {
									$('#upload-demo').addClass('ready');
									$('#cropImagePop').modal('show');
						            rawImg = e.target.result;
					            }
					            reader.readAsDataURL(input.files[0]);
					        }
					        else {
						        alert("Sorry - you're browser doesn't support the FileReader API");
						    }
						}

						$uploadCrop = $('#upload-demo').croppie({
							viewport: {
								width: 150,
								height: 200,
							},
							enforceBoundary: false,
							enableExif: true
						});
						$('#cropImagePop').on('shown.bs.modal', function(){
							alert('Shown pop');
							$uploadCrop.croppie('bind', {
				        		url: rawImg
				        	}).then(function(){
				        		console.log('jQuery bind complete');
				        	});
						});

						$('.item-img').on('change', function () { imageId = $(this).data('id'); tempFilename = $(this).val();
																										 $('#cancelCropBtn').data('id', imageId); readFile(this); });
						$('#cropImageBtn').on('click', function (ev) {
							$uploadCrop.croppie('result', {
								type: 'base64',
								format: 'jpeg',
								size: {width: 150, height: 200}
							}).then(function (resp) {
								$('#item-img-output').attr('src', resp);
								$('#cropImagePop').modal('hide');
							});
						});
				// End upload preview image

</script>
<script type="text/javascript">
// $(document).ready(function(){
//   $('#img_file').cropper()
//   // var canvas = $('#canvas');
//   // var context = canvas.get(0).getContext('2d');
//   //
//   // $("#img_file").on('change',function(){
//   //   if(this.files && this.files[0]){
//   //     if(this.files[0].type.match(/^image\//)){
//   //
//   //       var reader = new FileReader();
//   //       reader.onload = function(e){
//   //         var img = new Image();
//   //         img.onload = function() {
//   //           // context.canvas.width = img.width;
//   //           // context.canvas.height = img.height;
//   //           context.drawImage(img,0,0);
//   //           canvas.cropper({});
//   //         };
//   //         img.src = e.target.result;
//   //
//   //       }
//   //       reader.readAsDataURL(this.files[0]);
//   //
//   //     }else{
//   //       alert("Invalid file type");
//   //     }
//   //   }else{
//   //     alert("please select a file");
//   //   }
//   // })
// });

</script>
<script src="../../config/function1.js">

</script>
<script language="javascript">
    populateCountries("country", "state");

</script>
